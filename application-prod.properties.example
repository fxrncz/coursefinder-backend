# ============================================
# PRODUCTION CONFIGURATION - CourseFinder
# ============================================
# IMPORTANT: This is an EXAMPLE file
# Copy this to application-prod.properties and configure for your production environment
# DO NOT commit application-prod.properties to git!

spring.application.name=coursefinder
server.port=${PORT:8080}

# ============================================
# SERVER CONFIGURATION
# ============================================
server.tomcat.connection-timeout=20000
server.tomcat.keep-alive-timeout=15000
server.tomcat.max-connections=8192
server.tomcat.accept-count=100
server.threads.max=200

# ============================================
# PRODUCTION LOGGING (Reduced verbosity)
# ============================================
logging.level.root=WARN
logging.level.org.springframework.web=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.com.app=INFO
logging.level.com.zaxxer.hikari=WARN

# ============================================
# DATABASE CONFIGURATION
# ============================================
# IMPORTANT: ALL values must come from environment variables in production
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}

# JPA / Hibernate - PRODUCTION settings
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.validation-timeout=3000

# Schema initialization - DISABLED in production
spring.sql.init.mode=never

# ============================================
# EMAIL CONFIGURATION (Resend)
# ============================================
# IMPORTANT: Set these as environment variables
resend.api.key=${RESEND_API_KEY}
resend.from=${RESEND_FROM}
email.provider=resend

# ============================================
# FRONTEND CONFIGURATION
# ============================================
frontend.url=${FRONTEND_URL}

# ============================================
# SEEDER CONFIGURATION
# ============================================
# DISABLED in production (only run manually if needed)
seed.enabled=false
seed.mbti.enabled=false

# ============================================
# JSON SERIALIZATION
# ============================================
spring.jackson.time-zone=UTC
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss'Z'

# ============================================
# HUGGING FACE AI CONFIGURATION (PRO ACCOUNT)
# ============================================
# IMPORTANT: Set API key as environment variable
huggingface.api.key=${HUGGINGFACE_API_KEY}
huggingface.api.url=https://router.huggingface.co/hf-inference
huggingface.validation.enabled=true

# Production Models (High Quality)
huggingface.model.validation=microsoft/DialoGPT-large
huggingface.model.education=EleutherAI/gpt-neo-2.7B

# Optimized settings for paid plan
huggingface.timeout=60000
huggingface.max.retries=3
huggingface.retry.delay=2000

